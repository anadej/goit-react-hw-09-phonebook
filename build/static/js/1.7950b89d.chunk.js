(this["webpackJsonpreact-app-init"]=this["webpackJsonpreact-app-init"]||[]).push([[1],{112:function(e,t,n){"use strict";n.r(t);var r,a=n(0),s=n(2),o=n(17),c=n(91),i=n(16),u=n(79),l=n.n(u),p=n(80),d=n(82),m=n.n(d),b="AIzaSyDZKNiswL8RQXzhTtbuSF2zZEn4tMwubTI",f="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(b),h="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(b),j=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(f,Object(o.a)(Object(o.a)({},t),{},{returnSecureToken:!0}));case 3:return n=e.sent,e.next=6,m.a.post("https://phonebook-d66d1-default-rtdb.firebaseio.com/users.json",{email:t.email});case 6:return r=e.sent,e.abrupt("return",{registerData:n.data,id:r.data.name});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(h,Object(o.a)(Object(o.a)({},t),{},{returnSecureToken:!0}));case 3:return n=e.sent,e.abrupt("return",{loginData:n.data});case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=n(5),O=n(22),v=n(23).a.div(r||(r=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 20px 0;\n  color: darkblue;\n\n  .user-form {\n    display: flex;\n    flex-direction: column;\n    width: 280px;\n    padding: 10px;\n    border: 1px solid lightgray;\n    border-radius: 16px;\n  }\n  .user-form-title {\n    text-align: center;\n    text-transform: uppercase;\n    font-weight: 700;\n  }\n  .user-form-label {\n    position: relative;\n    margin-bottom: 8px;\n    padding-top: 8px;\n  }\n  .user-form-input {\n    height: 30px;\n    width: 100%;\n    padding-left: 8px;\n    margin: 10px 0;\n    outline: none;\n    border: 1px solid cornflowerblue;\n    border-radius: 14px;\n  }\n  .user-form-input:focus + .icon-user,\n  .user-form-input:not(:placeholder-shown) + .icon-user {\n    opacity: 0;\n  }\n  .user-form-input:not(:placeholder-shown)::placeholder {\n    opacity: 0;\n  }\n  .user-form-input:focus::placeholder {\n    opacity: 0;\n  }\n  .user-form-input::placeholder {\n    color: cornflowerblue;\n    padding-left: 25px;\n    font-size: 14px;\n    transition: opacity 300ms linear;\n  }\n  .icon-user {\n    position: absolute;\n    bottom: 20px;\n    left: 16px;\n    width: 12px;\n    height: 12px;\n    fill: cornflowerblue;\n    transition: opacity 300ms linear;\n  }\n  .user-form-button {\n    align-self: center;\n    width: 120px;\n    height: 24px;\n    background-color: cornflowerblue;\n    border: none;\n    border-radius: 14px;\n    color: white;\n    text-transform: uppercase;\n    padding: 0 20px;\n    cursor: pointer;\n  }\n"]))),w=n(81),y=n(8),N=n(24),k=n(1),C={email:"",password:"",displayName:""},D=function(){var e=Object(a.useState)(Object(o.a)({},C)),t=Object(c.a)(e,2),n=t[0],r=t[1],u=Object(i.d)(N.c),d=Object(i.c)(),m="/register"===Object(y.g)().pathname;Object(a.useEffect)((function(){m&&"Request failed with status code 400"===u?alert("User with this name is already registered."):alert("User not found! Input correct login data.")}),[u]);var b=function(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},n,a))}))};return Object(k.jsx)(v,{children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,r=n.email,a=n.password;m()?d((t=n,function(){var e=Object(p.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Object(g.e)()),e.next=4,j(t);case 4:r=e.sent,n(Object(g.f)(r.registerData)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(Object(g.d)(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())):d(function(e){return function(){var t=Object(p.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(g.b)()),t.next=4,x(e);case 4:r=t.sent,n(Object(g.c)(r.loginData)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Object(g.a)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}({email:r,password:a}))},className:"user-form",autoComplete:"off",name:"userForm",children:[m?Object(k.jsx)("p",{className:"user-form-title",children:"Register"}):Object(k.jsx)("p",{className:"user-form-title",children:"Login"}),m&&Object(k.jsxs)("label",{className:"user-form-label",children:["Name",Object(k.jsx)("input",{type:"text",name:"displayName",onChange:b,value:n.displayName,className:"user-form-input",placeholder:"Jony English",minLength:"3",autoComplete:"on",required:!0}),Object(k.jsx)("svg",{className:"icon-user",children:Object(k.jsx)("use",{href:w.a+"#icon-user"})})]}),Object(k.jsxs)("label",{className:"user-form-label",children:["Email",Object(k.jsx)("input",{type:"text",name:"email",onChange:b,value:n.email,className:"user-form-input",placeholder:"jony@gmail.com",minLength:"3",autoComplete:"on",required:!0}),Object(k.jsx)("svg",{className:"icon-user",children:Object(k.jsx)("use",{href:w.a+"#icon-drawer"})})]}),Object(k.jsxs)("label",{className:"user-form-label",children:["Password",Object(k.jsx)("input",{type:"text",name:"password",onChange:b,value:n.password,className:"user-form-input",placeholder:"Qwerty123",autoComplete:"on",required:!0}),Object(k.jsx)("svg",{className:"icon-user",children:Object(k.jsx)("use",{href:w.a+"#icon-user"})})]}),Object(k.jsx)("button",{type:"submit",className:"user-form-button",children:m?"Register":"Login"})]})})};t.default=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(D,{}),";"]})}},81:function(e,t,n){"use strict";t.a=n.p+"static/media/project_sprites.399ae2ea.svg"}}]);
//# sourceMappingURL=1.7950b89d.chunk.js.map